# 成果物3：依頼者のための詳細な手動テスト手順書

## 概要
この手順書は、Monthly Bookingプラグインの3つの重要な修正が正しく適用されたことを、WordPress管理画面で確認するための詳細な手順です。

## 前提条件
- WordPress管理画面にアクセス可能
- Monthly Bookingプラグインv2.2がインストール・有効化済み
- 管理者権限でログイン済み

---

## テスト1：料金設定の確認テスト
**目的**: 「デフォルト日額賃料」の項目が完全に消えていることを確認

### 手順
1. **WordPress管理画面にログイン**
   - 管理者アカウントでWordPress管理画面にアクセス

2. **Monthly Room Bookingメニューを開く**
   - 左側メニューから「Monthly Room Booking」をクリック

3. **料金設定ページにアクセス**
   - サブメニューから「料金設定」をクリック

4. **ページ内容を確認**
   - ページが正常に読み込まれることを確認
   - 以下のセクションが表示されることを確認：
     - ✅ 基本料金
     - ✅ 光熱費  
     - ✅ 追加人数料金
     - ✅ オプション割引設定

5. **デフォルト日額賃料セクションの非存在を確認**
   - ❌ 「デフォルト日額賃料」というセクション見出しが**表示されていない**こと
   - ❌ 「デフォルト日額賃料（SSプラン）」などの入力フィールドが**表示されていない**こと
   - ❌ 「default_rates」という文字が**ページ内に存在しない**こと

### 成功判定
- 「デフォルト日額賃料」に関する表示が一切ない場合：**✅ 成功**
- 「デフォルト日額賃料」の表示が残っている場合：**❌ 失敗**

---

## テスト2：キャンペーン設定の確認テスト
**目的**: 同じ名前のキャンペーンを2回作成しようとしてエラーが出ることと、180日制限を確認

### テスト2-1：キャンペーン重複名チェック

#### 手順
1. **キャンペーン設定ページにアクセス**
   - 左側メニュー「Monthly Room Booking」→「キャンペーン設定」をクリック

2. **最初のキャンペーンを作成**
   - 「新規キャンペーン作成」ボタンをクリック
   - 以下の情報を入力：
     - キャンペーン名：「テストキャンペーン」
     - 割引タイプ：「パーセンテージ割引（%）」
     - 割引値：「10」
     - 開始日：今日の日付
     - 終了日：30日後の日付
   - 「保存」ボタンをクリック
   - キャンペーンが正常に作成されることを確認

3. **同じ名前のキャンペーンを再度作成を試行**
   - 再度「新規キャンペーン作成」ボタンをクリック
   - **全く同じ情報**を入力：
     - キャンペーン名：「テストキャンペーン」（同じ名前）
     - 割引タイプ：「パーセンテージ割引（%）」
     - 割引値：「15」
     - 開始日：今日の日付
     - 終了日：60日後の日付
   - 「保存」ボタンをクリック

4. **エラーメッセージの確認**
   - 以下のエラーメッセージが表示されることを確認：
     - **「キャンペーン名が既に存在します。別の名前を選択してください。」**
   - キャンペーンが作成されず、エラーで失敗することを確認

#### 成功判定
- 重複名でエラーが表示される場合：**✅ 成功**
- 重複名でもキャンペーンが作成される場合：**❌ 失敗**

### テスト2-2：180日制限チェック

#### 手順
1. **新規キャンペーン作成を開始**
   - 「新規キャンペーン作成」ボタンをクリック

2. **180日を超える終了日を設定**
   - 以下の情報を入力：
     - キャンペーン名：「長期キャンペーン」
     - 割引タイプ：「パーセンテージ割引（%）」
     - 割引値：「20」
     - 開始日：今日の日付
     - 終了日：**200日後の日付**（180日を超える）
   - 「保存」ボタンをクリック

3. **エラーメッセージの確認**
   - 以下のエラーメッセージが表示されることを確認：
     - **「キャンペーン終了日は今日から180日以内に設定してください。」**
   - キャンペーンが作成されず、エラーで失敗することを確認

4. **正常な日付での作成確認**
   - 終了日を**180日以内**（例：120日後）に変更
   - 「保存」ボタンをクリック
   - キャンペーンが正常に作成されることを確認

#### 成功判定
- 180日超過でエラーが表示され、180日以内で正常作成される場合：**✅ 成功**
- 180日超過でもキャンペーンが作成される場合：**❌ 失敗**

---

## テスト3：管理画面メニューの確認テスト
**目的**: 管理画面の左側メニューから「プラグイン設定」の項目が消えていることを確認

### 手順
1. **WordPress管理画面のメニューを確認**
   - WordPress管理画面の左側メニューを上から下まで確認

2. **Monthly Room Bookingメニューの展開**
   - 「Monthly Room Booking」メニューをクリックして展開
   - サブメニュー項目を確認

3. **表示されるべきメニュー項目の確認**
   - 以下のメニュー項目が表示されることを確認：
     - ✅ 物件マスタ管理
     - ✅ 予約カレンダー
     - ✅ キャンペーン設定
     - ✅ 料金設定

4. **プラグイン設定項目の非存在を確認**
   - ❌ 「プラグイン設定」というメニュー項目が**表示されていない**こと
   - ❌ 「Plugin Settings」というメニュー項目が**表示されていない**こと

5. **他の場所での確認**
   - WordPress標準の「設定」メニュー内にも「Monthly Booking」関連の設定項目がないことを確認

### 成功判定
- 「プラグイン設定」メニューが一切表示されない場合：**✅ 成功**
- 「プラグイン設定」メニューが残っている場合：**❌ 失敗**

---

## 総合テスト結果の判定

### 全テスト成功の場合
すべてのテストで「✅ 成功」が確認できた場合、Monthly Bookingプラグインv2.2の修正は正常に適用されています。

### 一部テスト失敗の場合
いずれかのテストで「❌ 失敗」が発生した場合は、以下の情報を記録してください：

1. **失敗したテスト番号**
2. **期待された動作**
3. **実際の動作**
4. **エラーメッセージ（表示された場合）**
5. **スクリーンショット**

---

## トラブルシューティング

### よくある問題と解決方法

#### 問題1：ページが正常に表示されない
- **原因**: プラグインが正しく有効化されていない
- **解決**: プラグイン一覧でMonthly Bookingが有効化されていることを確認

#### 問題2：メニューが表示されない
- **原因**: 管理者権限がない
- **解決**: 管理者アカウントでログインし直す

#### 問題3：キャンペーン作成でエラーが出ない
- **原因**: データベースに既存のキャンペーンがない
- **解決**: まず1つキャンペーンを作成してから重複テストを実行

#### 問題4：日付制限が機能しない
- **原因**: ブラウザの日付入力が正しく動作していない
- **解決**: 手動で日付を入力（YYYY-MM-DD形式）

---

## 検証完了チェックリスト

- [ ] テスト1：料金設定ページで「デフォルト日額賃料」セクションが非表示
- [ ] テスト2-1：キャンペーン重複名でエラーメッセージ表示
- [ ] テスト2-2：180日超過でエラーメッセージ表示、180日以内で正常作成
- [ ] テスト3：管理メニューから「プラグイン設定」項目が非表示

**すべてにチェックが入った場合、修正は正常に適用されています。**
